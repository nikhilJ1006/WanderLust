<% layout("/layouts/boilerplate") %>

<div class="container my-4">
  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-3">
    <% for (let listing of listings) { %>
      <div class="col">
        <a class="listing-link" href="/listings/<%= listing._id %>">
          <div class="card listing-card h-100">
            <img
              src="<%= (listing.image && listing.image.url) ? listing.image.url : '/images/placeholder.jpg' %>"
              class="card-img-top"
              alt="<%= listing.title %>"
              style="height:20rem; object-fit:cover;"
            />
            <div class="card-body">
              <h5 class="card-title mb-1"><%= listing.title %></h5>
              <p class="card-text mb-1">
                <%= listing.location %><% if (listing.country) { %>, <%= listing.country %><% } %>
              </p>
              <p class="card-text fw-semibold">
                &#8377; <%= (listing.price || 0).toLocaleString('en-IN') %> / night
              </p>
            </div>
          </div>
        </a>
      </div>
    <% } %>
  </div>
</div>
